<div class="w-screen min-w-screen min-h-screen">
      @if(currentUserProfile()?.role == "customer"){
        <div class="panel-content">
            <ng-container *ngTemplateOutlet="categories().length > 0 ? data : emptyData">

            </ng-container>

            <ng-template #data>
                <p-splitter
                    [panelSizes]="[20, 80]"
                    [style]="{ width: '100%', height: '100%'}">
                    <ng-template pTemplate="panel">
                        <div class="panel-content" [style]="{overflow: 'hidden' }">

                            <span class="text-surface-900 dark:text-surface-0 text-2xl !leading-tight mb-2">
                                Categorías
                            </span>
                            <div class="mt-3">
                                <p-listbox
                                    [options]="categories()"
                                    optionValue="value"
                                    optionLabel="name"
                                    emptyMessage="Sin datos disponibles"
                                    class="w-full md:w-56 h-24rem"
                                    [listStyle]="{'max-height': '220px'}"
                                    (onClick)="selectCategorie($event)"
                                />
                            </div>
                            <p>
                                {{categoryName()}}
                            </p>
                        </div>

                    </ng-template>
                    <ng-template pTemplate="panel">

                        <div class="panel-content ml-3">
                            <ng-container *ngTemplateOutlet="products().length > 0 ? isProducts : emptyproducts">

                            </ng-container>
                            <ng-template #isProducts>
                                <div class="flex justify-content-between flex-wrap">
                                    <div class="flex align-items-center justify-content-center ml-2">
                                        <span class="text-surface-900 dark:text-surface-0 text-2xl !leading-tight mb-2">
                                            Productos
                                        </span>
                                    </div>
                                    <div class="flex align-items-center justify-content-center mr-3 mt-2">
                                        <p-iconfield>
                                            <p-inputicon class="pi pi-search" />
                                            <input
                                                pInputText
                                                type="text"
                                                placeholder ="Buscar"
                                                size="small"
                                            />
                                        </p-iconfield>
                                    </div>
                                </div>

                                <div class="grid">
                                    @for (product of products(); track product) {
                                        <div class="col-12 md:col-6 lg:col-3">
                                            <app-product-details
                                                [product] = "product"
                                            />
                                        </div>
                                    }
                                </div>

                            </ng-template>

                            <ng-template #emptyproducts>
                                <div class="flex align-items-center justify-content-center min-w-screen min-h-screen">
                                    <i class="pi pi-search mr-2" style="font-size: 2rem"></i>
                                    <span class="font-bold">Categoría "{{categoryName()}}", no tiene productos</span>
                                </div>
                            </ng-template>
                        </div>

                    </ng-template>

                </p-splitter>
            </ng-template>

            <ng-template #emptyData>
                <div class="flex align-items-center justify-content-center min-w-screen min-h-screen">
                    <i class="pi pi-search mr-2" style="font-size: 2rem"></i>
                    <span class="font-bold">Sin productos disponibles</span>
                </div>
            </ng-template>

         </div>
     }@else{
         <div class="flex align-items-center justify-content-center min-w-screen min-h-screen">
             <i class="pi pi-search mr-2" style="font-size: 2rem"></i>
             <span class="font-bold">Dashboard, solo está disponible solo para clientes</span> <br>
         </div>

     }
 </div>
